<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LUCKY LOG</title>
  <link rel="icon" href="../static/images/lucky-log-logo.png" th:href="@{/images/lucky-log-logo.png}">
  <link rel="stylesheet" href="../static/css/header.css" th:href="@{/css/header.css}">
  <link rel="stylesheet" href="../static/css/fortune-result.css" th:href="@{/css/fortune-result.css}">
  <script defer src="../static/js/fortune-result.js.js" th:src="@{/js/fortune-result.js}"></script>
</head>

<body>
  <div class="holographic-bg"></div>

  <div class="emoji-decoration">π”®</div>
  <div class="emoji-decoration">β¨</div>
  <div class="emoji-decoration">π</div>
  <div class="emoji-decoration">π</div>
  <div class="emoji-decoration">π‚</div>

  <div class="container">
    <div th:replace="~{fragments/header :: authButtons}"></div>

    <div class="header">
      <div class="ai-badge">
        <span class="ai-icon" th:text="${option.ai.icon}">π‚</span>
        <span id="ai-name" th:text="${option.ai.displayName}">Gemini</span>
      </div>
      <p class="user-info" th:if="${session.birthInfo != null}" th:object="${session.birthInfo}">
        <span th:if="*{city != null && city.displayName != 'λ¨λ¦„'}" th:text="*{city.displayName}">μ„μΈνΉλ³„μ‹</span>
        <span th:text="*{gender.displayName}">μ—¬μ„±</span>
        <span th:text="*{calendar.displayName}">μ–‘λ ¥</span>
        <br>
        <span th:text="*{year}">1995λ…„</span>λ…„
        <span th:text="*{month}">02μ›”</span>μ›”
        <span th:text="*{day}">16μΌ</span>μΌ
        <span th:if="*{time != null && time.displayName != 'λ¨λ¦„'}" th:text="*{time.displayName}">μμ‹(23:30 -
          01:29)</span>
      </p>
    </div>

    <!-- κ²°κ³Ό ν™”λ©΄ -->
    <div class="results-screen" id="results-screen">
      <div class="results-container" id="results-container">
        <div class="fortune-main-title" th:text="${fortuneTitle}">2025λ…„ μ›”λ³„ μ΄μ„Έ</div>

        <div th:if="${response != null}" th:each="res : ${response}" class="fortune-section">
          <div class="fortune-title">
            <span th:text="${res.type.icon}" class="fortune-icon">π”®</span>
            <span th:text="|${res.type.tooltip}μ΄|">μΆ…ν•©μ΄</span>
          </div>
          <div class="fortune-content-wrapper">
            <div class="fortune-content" th:each="content : ${res.contents}">
              <p th:text="${content.key.displayName}" class="fortune-month">1μ›”</p>
              <p th:text="${content.value}" class="fortune-period-content">1μ›” μ΄μ„Έ λ‚΄μ©</p>
            </div>
          </div>
        </div>

        <!-- μ΄μ„Έ κ²°κ³Όκ°€ μ—†λ” κ²½μ° -->
        <div th:if="${response == null}" class="no-results">
          <div class="no-results-icon">π”®</div>
          <div class="no-results-text">μ΄μ„Έ κ²°κ³Όλ¥Ό λ¶λ¬μ¬ μ μ—†μµλ‹λ‹¤</div>
          <div class="no-results-subtext">λ‹¤μ‹ μ‹λ„ν•΄μ£Όμ„Έμ”</div>
        </div>

      </div>

      <div class="action-buttons">
        <button class="retro-btn-small" onclick="goToSelection()">
          <span class="btn-icon">π”„</span>
          <span>λ‹¤μ‹</span>
        </button>
        <button class="retro-btn-small" onclick="copyResults()" disabled>
          <span class="btn-icon">π“‹</span>
          <span>λ³µμ‚¬</span>
        </button>
        <button class="retro-btn-small" onclick="shareResults()" disabled>
          <span class="btn-icon">π“¤</span>
          <span>κ³µμ </span>
        </button>
        <button class="retro-btn-small" onclick="saveResults()" disabled>
          <span class="btn-icon">π’Ύ</span>
          <span>μ €μ¥</span>
        </button>
      </div>
    </div>
  </div>

</body>

</html>