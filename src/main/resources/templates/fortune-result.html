<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LUCKY LOG</title>
  <link rel="icon" href="../static/images/lucky-log-logo.png" th:href="@{/images/lucky-log-logo.png}">
  <link rel="stylesheet" href="../static/css/default.css" th:href="@{/css/default.css}">
  <link rel="stylesheet" href="../static/css/header.css" th:href="@{/css/header.css}">
  <link rel="stylesheet" href="../static/css/fortune-result.css" th:href="@{/css/fortune-result.css}">
  <script src="../static/js/fortune-result.js" th:src="@{/js/fortune-result.js}" defer></script>
</head>

<body>

  <div class="float-emoji">π”®</div>
  <div class="float-emoji">β¨</div>
  <div class="float-emoji">π</div>
  <div class="float-emoji">π</div>
  <div class="float-emoji">π‚</div>

  <div class="fortune-page-container">
    <div th:replace="~{fragments/header :: authButtons}"></div>

    <section class="logo user-selection-container">
      <div class="ai-selection-container">
        <span th:text="${option.ai.icon}">π‚</span>
        <span id="ai-name" th:text="${option.ai.displayName}">Gemini</span>
      </div>
      <p th:if="${session.birthInfo != null}" th:object="${session.birthInfo}">
        <span th:if="*{city != null && city.displayName != 'λ¨λ¦„'}" th:text="*{city.displayName}">
          μ„μΈνΉλ³„μ‹
        </span>
        <span th:text="*{gender.displayName}">μ—¬μ„±</span>
        <span th:text="*{calendar.displayName}">μ–‘λ ¥</span>
        <br>
        <span th:text="*{year}">1995λ…„</span>λ…„
        <span th:text="*{month}">02μ›”</span>μ›”
        <span th:text="*{day}">16μΌ</span>μΌ
        <span th:if="*{time != null && time.displayName != 'λ¨λ¦„'}" th:text="*{time.displayName}">
          μμ‹(23:30 - 01:29)
        </span>
      </p>
    </section>

    <!-- κ²°κ³Ό ν™”λ©΄ -->
    <section class="result-screen" id="result-screen">
      <div class="fortune-title" th:text="${fortuneTitle}">2025λ…„ μ›”λ³„ μ΄μ„Έ</div>

      <div th:if="${response != null}" th:each="res : ${response}" class="result-content">
        <div class="fortune-sub-title">
          <span th:text="${res.type.icon}">π”®</span>
          <span th:text="|${res.type.tooltip}μ΄|">μΆ…ν•©μ΄</span>
        </div>
        <div class="fortune-content-container">
          <div class="fortune-content" th:each="content : ${res.contents}">
            <p th:text="${content.key.displayName}" class="fortune-month">1μ›”</p>
            <p th:text="${content.value}" class="fortune-month-content">1μ›” μ΄μ„Έ λ‚΄μ©</p>
          </div>
        </div>
      </div>

      <!-- μ΄μ„Έ κ²°κ³Όκ°€ μ—†λ” κ²½μ° -->
      <div th:if="${response == null or #lists.isEmpty(response)}" class="no-result-container">
        <div class="no-result-text">μ΄μ„Έ κ²°κ³Όλ¥Ό λ¶λ¬μ¬ μ μ—†μµλ‹λ‹¤</div>
        <div class="no-result-subtext">λ‹¤μ‹ μ‹λ„ν•΄μ£Όμ„Έμ”</div>
      </div>

      <div class="action-button-container">
        <button class="action-btn retry-btn" data-retry-btn>
          <span>π”„</span>
          <span>λ‹¤μ‹</span>
        </button>
        <button class="action-btn copy-btn" data-copy-btn disabled>
          <span>π“‹</span>
          <span>λ³µμ‚¬</span>
        </button>
        <button class="action-btn share-btn" data-share-btn disabled>
          <span>π“¤</span>
          <span>κ³µμ </span>
        </button>
        <button class="action-btn save-btn" data-save-btn disabled>
          <span>π’Ύ</span>
          <span>μ €μ¥</span>
        </button>
      </div>
    </section>
  </div>

</body>

</html>